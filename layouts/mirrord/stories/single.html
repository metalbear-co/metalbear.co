{{ define "main" }}
<div class="user-stories__page pt-12 lg:pt-16">
  <div class="container w-full max-w-screen-md mx-auto px-6">
    <article class="mb-8">
      <header class="flex flex-wrap justify-between border-b border-dashed border-[#9B9B9B] pb-8">
        <div class="flex-none w-full md:w-1/2 lg:w-2/3 mb-8 md:mb-0">
          <div class="row">
            <a class="nav-back flex items-center gap-2 text-[#222222]" href="/mirrord/stories/">
              <svg width="6" height="10" viewBox="0 0 6 10" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M4.56252 9.54995L0.350024 5.34995C0.300024 5.29995 0.264691 5.24578 0.244024 5.18745C0.223024 5.12912 0.212524 5.06662 0.212524 4.99995C0.212524 4.93328 0.223024 4.87078 0.244024 4.81245C0.264691 4.75412 0.300024 4.69995 0.350024 4.64995L4.56252 0.437451C4.67919 0.320784 4.82502 0.262451 5.00002 0.262451C5.17502 0.262451 5.32502 0.324951 5.45002 0.449951C5.57502 0.574951 5.63752 0.720784 5.63752 0.887451C5.63752 1.05412 5.57502 1.19995 5.45002 1.32495L1.77502 4.99995L5.45002 8.67495C5.56669 8.79162 5.62502 8.93528 5.62502 9.10595C5.62502 9.27695 5.56252 9.42495 5.43752 9.54995C5.31252 9.67495 5.16669 9.73745 5.00002 9.73745C4.83336 9.73745 4.68752 9.67495 4.56252 9.54995Z"
                  fill="#222222" />
              </svg>
              <span>Back to all User Stories</span>
            </a>
          </div>
          <h3 class="text-3xl lg:text-4xl text-[#000000] font-bold mb-12 lg:mb-16">User Stories</h3>
          {{- $logo := .Resources.GetMatch .Params.logo }}
          {{- with $logo }}
          {{ with .Resize (printf "%dx%d webp" .Width .Height) }}
          <div class="w-full md:w-2/3 lg:w-3/5">
            <img class="w-full h-auto object-cover object-center" src="{{ .RelPermalink }}" width="{{ .Width }}"
              height="{{ .Height }}">
          </div>
          {{- end }}
          {{- end }}
        </div>
        <div class="flex-none w-full md:w-1/2 lg:w-1/3 flex md:block items-center">
          {{- $avatar := .Resources.GetMatch .Params.avatar }}
          {{- with $avatar }}
          {{- with .Resize "90x webp" }}
          <div
            class="flex-none w-[48px] h-[48px] md:w-[80px] md:h-[80px] lg:w-[90px] lg:h-[90px] md:mb-4 flex items-center md:block md:mx-auto">
            <img class="w-full h-auto object-cover object-center" src="{{ .RelPermalink }}" width="{{ .Width }}"
              height="{{ .Height }}">
          </div>
          {{- end }}
          {{- end }}
          <div class="text-center pl-4 lg:pl-0 flex-1">
            <p class="lg:text-sm italic text-[#000000] font-bold mb-0">"{{ .Params.description }}"</p>
          </div>
        </div>
      </header>
      <div class="text-[#000000] border-b border-dashed border-[#9B9B9B] pt-8">
        {{ .Content }}
      </div>
    </article>

    {{- if or .PrevInSection .NextInSection }}
    <div class="grid grid-cols-12 gap-6 border-b border-dashed border-[#9B9B9B] pb-12 mb-16">

      {{- with .PrevInSection }}
      <div class="col-span-6">
        <a href="{{ .RelPermalink }}">
          <div class="mb-2">
            <span class="text-xs text-[#000000]">Previous</span>
          </div>
          <div class="h-14 lg:h-16 mb-1">
            {{- $logo := .Resources.GetMatch .Params.logo }}
            {{- with $logo }}
            {{- $resizeWidth := cond (ge .Width 181) 181 .Width -}}
            {{- with .Resize (printf "%dx webp" $resizeWidth) }}
            <div class="lg:w-2/3 h-14 lg:h-16">
              <img class="w-full h-16 object-contain object-left-top" src="{{ .RelPermalink }}" width="{{ .Width }}"
                height="{{ .Height }}">
            </div>
            {{- end }}
            {{- end }}
          </div>
          <div>
            <span
              class="text-[#000000] hover:font-medium leading-loose border-b hover:border-b-2 border-solid border-[#222222]">
              &larr; Read User Story
            </span>
          </div>
        </a>
      </div>
      {{- end }}

      {{- with .NextInSection }}
      <div class="col-span-6 col-start-7">
        <a class="text-right" href="{{ .RelPermalink }}">
          <div class="mb-2 text-right">
            <span class="text-xs text-[#000000]">Next</span>
          </div>
          <div class="h-14 lg:h-16 mb-1">
            {{- $logo := .Resources.GetMatch .Params.logo }}
            {{- with $logo }}
            {{- $resizeWidth := cond (ge .Width 181) 181 .Width -}}
            {{- with .Resize (printf "%dx webp" $resizeWidth) }}
            <div class="lg:w-2/3 h-14 lg:h-16 ml-auto">
              <img class="w-full h-16 object-contain object-right" src="{{ .RelPermalink }}" width="{{ .Width }}"
                height="{{ .Height }}">
            </div>
            {{- end }}
            {{- end }}
          </div>
          <div class="text-right">
            <span
              class="text-[#000000] hover:font-medium leading-loose border-b hover:border-b-2 border-solid border-[#222222]">
              Read User Story &rarr;
            </span>
          </div>
        </a>
      </div>
      {{- end }}

    </div>
    {{- end }}

  </div>
</div>
{{- end }}
