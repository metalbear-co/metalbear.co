{{ define "main" }}
<section class="section section__hero">
  <div class="container-xl flex-wrap flex-md-nowrap">
    <div class="row align-items-center">
      <div class="col-16 col-lg-9">
        <h2 class="d-md-none text-center" style="font-size: 40px;">Weâ€™re<br />MetalBear</h2>
        <h2 class="d-none d-md-block" style="margin-top:0.1rem;">We Are MetalBear</h2>
        <p class="section__hero-desc text-center text-md-start">{{ .Params.lead | safeHTML }}</p>
        <div class="d-lg-none">
          <img class="metalbear-hero-mobile" src="/metalbear-logo-home.svg" />
        </div>
        <div class="button-wrapper d-flex justify-content-center justify-content-lg-start pt-3">
          <div class="text-center mb-3">
            <a class="button-primary button-hero" target="_blank" href="https://mirrord.dev/">Try mirrord</a>
          </div>
          <div class="text-center">
            <a class="button-secondary button-hero" href="#contact">Contact Us</a>
          </div>
        </div>
      </div>
      <div class="col-16 col-lg-7 d-none d-lg-block">
        <img class="metalbear-hero" src="/metalbear-logo-home.svg" />
      </div>
    </div>
  </div>
</section>


<section class="section section-waitlist">
  <div class="container">
    <div class="section-waitlist__message px-2 px-lg-5">
      <div id="waitlist-error-message" class="section-waitlist__message-error py-2 px-2 mb-3 d-none">
        <svg width="24" height="24" viewBox="0 0 512 512" class="section-waitlist__error-icon">
          <path
            d="M256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm-11.49 120h22.979c6.823 0 12.274 5.682 11.99 12.5l-7 168c-.268 6.428-5.556 11.5-11.99 11.5h-8.979c-6.433 0-11.722-5.073-11.99-11.5l-7-168c-.283-6.818 5.167-12.5 11.99-12.5zM256 340c-15.464 0-28 12.536-28 28s12.536 28 28 28 28-12.536 28-28-12.536-28-28-28z" />
        </svg>
        <span class="section-waitlist__error-text">
          Your subscription could not be saved. Please try again.
        </span>
      </div>
      <div id="waitlist-success-message" class="section-waitlist__message-success py-2 px-2 mb-3 d-none">
        <svg width="24" height="24" viewBox="0 0 512 512" class="section-waitlist__success-icon">
          <path
            d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 464c-118.664 0-216-96.055-216-216 0-118.663 96.055-216 216-216 118.664 0 216 96.055 216 216 0 118.663-96.055 216-216 216zm141.63-274.961L217.15 376.071c-4.705 4.667-12.303 4.637-16.97-.068l-85.878-86.572c-4.667-4.705-4.637-12.303.068-16.97l8.52-8.451c4.705-4.667 12.303-4.637 16.97.068l68.976 69.533 163.441-162.13c4.705-4.667 12.303-4.637 16.97.068l8.451 8.52c4.668 4.705 4.637 12.303-.068 16.97z" />
        </svg>
        <span class="section-waitlist__success-text">
          Your subscription has been successful.
        </span>
      </div>
    </div>

    <div class="section-waitlist__form-wrapper py-4 px-2 px-lg-5">
      <form id="waitlist-form" method="POST" action="">
        <div class="section-waitlist__header" style="margin-bottom: 8px;">
          <h4>mirrord for teams is coming soon!</h4>
        </div>
        <div class="section-waitlist__email px-2">
          <input class="section-waitlist__input input px-4 py-2 py-lg-3" type="text" id="email" name="email"
            autocomplete="off" placeholder="Your Email" data-required="true" required />
          <div class="section-waitlist__entry-error px-2 py-1 mx-2 mt-2 d-none">
            <p class="m-0">This field cannot be left blank.</p>
          </div>
        </div>
        <div class="section-waitlist__button-wrapper">
          <button class="button-primary section-waitlist__button" form="waitlist-form" type="submit">
            Join the Waitlist
          </button>
        </div>
      </form>
    </div>
  </div>
</section>

<section class="section section__blog mt-3">
  <div class="container-lg">
    <header class="mb-3 mb-lg-5">
      <h2 class="section__blog-title text-center my-0">Latest from MetalBear Blog</h2>
    </header>
    <div class="row row-cols-1 row-cols-md-2 row-cols-lg-3 mb-0 mb-lg-5">
      {{ range first 3 (where .Site.RegularPages.ByDate.Reverse "Section" "blog") -}}
      <div class="col mb-5">
        <div class="blog-card d-flex flex-column position-relative align-content-between justify-content-between">
          <div class="blog-card__body">
            <h3><a class="stretched-link" style="color: #222222;" href="{{ .RelPermalink }}">{{ .Params.title }}{{ with
                .Params.emoji -}}&nbsp;{{ . | emojify }}{{ end -}}</a></h3>
            <div class="blog-card__summary">
              <p class="summary">{{ .Params.lead | safeHTML }}</p>
            </div>
          </div>
          <div class="block-card__footer pt-2 d-flex flex-column justify-content-between">
            <div>
              {{ partial "main/blog-meta.html" . -}}
            </div>
            <div class="pt-4">
              <a class="button-secondary position-relative btn-reading" href="{{ .RelPermalink }}">Continue Reading</a>
            </div>
          </div>
        </div>
      </div>
      {{ end -}}
    </div>
    <div class="pt-4 pt-lg-5 text-center">
      <a class="button-primary button-big" href="/blog/">Show Me More</a>
    </div>
  </div>
</section>

<section class="section section-newsletter">
  <div class="container">
    <div class="section-newsletter__message px-2 pt-4 pt-lg-0">
      <div id="newsletter-error-message" class="section-newsletter__message-error py-2 px-2 mb-3 d-none">
        <svg width="24" height="24" viewBox="0 0 512 512" class="section-newsletter__error-icon">
          <path
            d="M256 40c118.621 0 216 96.075 216 216 0 119.291-96.61 216-216 216-119.244 0-216-96.562-216-216 0-119.203 96.602-216 216-216m0-32C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm-11.49 120h22.979c6.823 0 12.274 5.682 11.99 12.5l-7 168c-.268 6.428-5.556 11.5-11.99 11.5h-8.979c-6.433 0-11.722-5.073-11.99-11.5l-7-168c-.283-6.818 5.167-12.5 11.99-12.5zM256 340c-15.464 0-28 12.536-28 28s12.536 28 28 28 28-12.536 28-28-12.536-28-28-28z" />
        </svg>
        <span class="section-newsletter__error-text">
          Your subscription could not be saved. Please try again.
        </span>
      </div>
      <div id="newsletter-success-message" class="section-newsletter__message-success py-2 px-2 mb-3 d-none">
        <svg width="24" height="24" viewBox="0 0 512 512" class="section-newsletter__success-icon">
          <path
            d="M256 8C119.033 8 8 119.033 8 256s111.033 248 248 248 248-111.033 248-248S392.967 8 256 8zm0 464c-118.664 0-216-96.055-216-216 0-118.663 96.055-216 216-216 118.664 0 216 96.055 216 216 0 118.663-96.055 216-216 216zm141.63-274.961L217.15 376.071c-4.705 4.667-12.303 4.637-16.97-.068l-85.878-86.572c-4.667-4.705-4.637-12.303.068-16.97l8.52-8.451c4.705-4.667 12.303-4.637 16.97.068l68.976 69.533 163.441-162.13c4.705-4.667 12.303-4.637 16.97.068l8.451 8.52c4.668 4.705 4.637 12.303-.068 16.97z" />
        </svg>
        <span class="section-newsletter__success-text">
          Your subscription has been successful.
        </span>
      </div>
    </div>

    <div class="section-newsletter__wrapper d-flex flex-column flex-md-row justify-content-center align-items-center">
      <div class="section-newsletter__logo order-1 order-md-0">
        <img src="/metalbear-newsletter.svg" />
      </div>

      <div class="section-newsletter__form order-0 order-md-1">
        <div class="section-newsletter__form-wrapper py-4 px-2">
          <form id="newsletter-form" method="POST" action="">
            <div class="section-newsletter__header">
              <h4 class="m-0">Sign up for our newsletter</h4>
            </div>
            <div class="section-newsletter__email position-relative">
              <input class="section-newsletter__input input px-4 py-2 py-lg-3" type="text" id="email" name="email"
                autocomplete="off" placeholder="Your Email" data-required="true" required />
              <div class="section-newsletter__button-wrapper position-absolute top-50">
                <button class="section-newsletter__button" form="newsletter-form" type="submit">
                  <svg width="27" height="26" viewBox="0 0 30 29" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                      d="M1.76174 0.589253L28.633 13.8298C28.7795 13.902 28.9029 14.0137 28.9892 14.1525C29.0755 14.2912 29.1212 14.4513 29.1212 14.6146C29.1212 14.778 29.0755 14.9381 28.9892 15.0768C28.9029 15.2155 28.7795 15.3273 28.633 15.3995L1.75999 28.64C1.60944 28.714 1.44081 28.7431 1.27417 28.7239C1.10754 28.7047 0.949926 28.6381 0.820107 28.5319C0.690288 28.4256 0.593733 28.2844 0.541943 28.1248C0.490153 27.9653 0.48531 27.7942 0.52799 27.632L3.97374 14.6225L0.52624 1.599C0.482853 1.43645 0.487247 1.26484 0.538897 1.10473C0.590547 0.944612 0.687261 0.802781 0.817455 0.696225C0.947649 0.589669 1.1058 0.522907 1.27297 0.503934C1.44014 0.484962 1.60923 0.514584 1.75999 0.589253H1.76174ZM2.71199 3.0095L5.52949 13.653L5.63799 13.632L5.74999 13.625H18C18.2186 13.6246 18.4295 13.7061 18.5911 13.8534C18.7527 14.0007 18.8533 14.2032 18.873 14.4209C18.8928 14.6387 18.8303 14.856 18.6979 15.03C18.5654 15.2039 18.3726 15.322 18.1575 15.361L18 15.375H5.74999C5.69601 15.3753 5.64212 15.3706 5.58899 15.361L2.71374 26.2215L26.2652 14.6155L2.71199 3.0095Z"
                      fill="currentColor" />
                  </svg>
                </button>
              </div>
            </div>
            <div class="section-newsletter__entry-error px-2 py-1 mx-2 mt-2 d-none">
              <p class="m-0">This field cannot be left blank.</p>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</section>

<section class="section section__community mt-3 position-relative">
  <div class="container-md community__wrapper">
    <div class="row justify-content-center">
      <div class="col-16 col-lg-11">
        <h2 id="community" class="section__community-title mt-0 mb-3">Community</h2>
        <p class="section__community-desc mt-0">Our Backend Community<br> is on Discord</p>
        <div class="button-wrapper text-center text-lg-start pt-3">
          <a class="button-primary button-big" href="https://discord.gg/metalbear" target="_blank">Join Now</a>
        </div>
      </div>
      <div class="col-16 col-lg-5 d-none d-lg-flex align-items-end">
        <img class="join-community-logo" src="/join-community.svg" />
      </div>
    </div>
  </div>
  <div class="join-community__col-img position-absolute d-flex d-lg-none align-items-start">
    <img class="join-community-logo-mobile" src="/join-community-mobile.svg" />
  </div>
</section>

<section class="section section__contact mt-3">
  <div class="container">
    <div id="contact" class="contact-wrapper">
      <h2 class="section__contact-title text-center fw-bold mt-0 mb-3">Contact us</h2>
      <p class="section__contact-desc text-center mt-0">hi@metalbear.co</p>
    </div>
  </div>
</section>


<script type="text/javascript">
  window.addEventListener("load", () => {
    function sendData(form, url, successElement, errorElement) {
      const XHR = new XMLHttpRequest();

      const FD = new FormData(form);

      XHR.addEventListener("load", (event) => {
        if (event.target.status === 200) {
          if (!errorElement.classList.contains("d-none")) {
            errorElement.classList.add("d-none");
          }
          successElement.classList.remove("d-none");
        } else {
          if (!successElement.classList.contains("d-none")) {
            successElement.classList.add("d-none");
          }
          errorElement.classList.remove("d-none");
        }
      });

      XHR.addEventListener("error", (event) => {
        errorElement.classList.remove("d-none");
        if (!successElement.classList.contains("d-none")) {
          successElement.classList.add("d-none");
        }
      });

      XHR.open("POST", url);
      XHR.send(FD);
    }

    function addForm(prefix) {
      const url = `https:\/\/${prefix}.metalbear.co\/v1\/${prefix}`;
      const form = document.getElementById(`${prefix}-form`);
      const errorElement = document.getElementById(`${prefix}-error-message`);
      const successElement = document.getElementById(`${prefix}-success-message`);
      form.addEventListener("submit", (event) => {
        event.preventDefault();

        sendData(form, url, successElement, errorElement);
      });
    }

    addForm("newsletter");
    addForm("waitlist");

  });
</script>

{{ end }}